!function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function i(t){t.forEach(n)}function s(t){return"function"==typeof t}function r(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function l(t,n){t.appendChild(n)}function o(t,n,e){t.insertBefore(n,e||null)}function c(t){t.parentNode.removeChild(t)}function f(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function u(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function p(){return a(" ")}function d(t,n,e,i){return t.addEventListener(n,e,i),()=>t.removeEventListener(n,e,i)}function g(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function h(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function $(t,n){t.value=null==n?"":n}let m;function v(t){m=t}function x(){if(!m)throw new Error("Function called outside component initialization");return m}function y(t){x().$$.on_mount.push(t)}function w(){const t=x();return(n,e)=>{const i=t.$$.callbacks[n];if(i){const s=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);i.slice().forEach(n=>{n.call(t,s)})}}}const k=[],b=[],E=[],_=[],A=Promise.resolve();let C=!1;function P(t){E.push(t)}let F=!1;const T=new Set;function j(){if(!F){F=!0;do{for(let t=0;t<k.length;t+=1){const n=k[t];v(n),G(n.$$)}for(k.length=0;b.length;)b.pop()();for(let t=0;t<E.length;t+=1){const n=E[t];T.has(n)||(T.add(n),n())}E.length=0}while(k.length);for(;_.length;)_.pop()();C=!1,F=!1,T.clear()}}function G(t){if(null!==t.fragment){t.update(),i(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(P)}}const H=new Set;function I(t,n){t&&t.i&&(H.delete(t),t.i(n))}function O(t,n,e,i){if(t&&t.o){if(H.has(t))return;H.add(t),(void 0).c.push(()=>{H.delete(t),i&&(e&&t.d(1),i())}),t.o(n)}}function D(t){t&&t.c()}function L(t,e,r){const{fragment:l,on_mount:o,on_destroy:c,after_update:f}=t.$$;l&&l.m(e,r),P(()=>{const e=o.map(n).filter(s);c?c.push(...e):i(e),t.$$.on_mount=[]}),f.forEach(P)}function N(t,n){const e=t.$$;null!==e.fragment&&(i(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function R(t,n){-1===t.$$.dirty[0]&&(k.push(t),C||(C=!0,A.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function S(n,s,r,l,o,f,u=[-1]){const a=m;v(n);const p=s.props||{},d=n.$$={fragment:null,ctx:null,props:f,update:t,not_equal:o,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:e(),dirty:u,skip_bound:!1};let g=!1;if(d.ctx=r?r(n,p,(t,e,...i)=>{const s=i.length?i[0]:e;return d.ctx&&o(d.ctx[t],d.ctx[t]=s)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](s),g&&R(n,t)),e}):[],d.update(),g=!0,i(d.before_update),d.fragment=!!l&&l(d.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);d.fragment&&d.fragment.l(t),t.forEach(c)}else d.fragment&&d.fragment.c();s.intro&&I(n.$$.fragment),L(n,s.target,s.anchor),j()}v(a)}class W{$destroy(){N(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function X(n){let e,i,s;return{c(){e=u("span"),e.textContent="+",g(e,"class","svelte-1kfxcpr")},m(t,r){o(t,e,r),i||(s=d(e,"click",n[6]),i=!0)},p:t,d(t){t&&c(e),i=!1,s()}}}function q(t){let n,e,s,r,l;return{c(){n=u("input"),e=p(),s=u("span"),s.textContent="+",g(s,"class","svelte-1kfxcpr")},m(i,c){o(i,n,c),$(n,t[1]),o(i,e,c),o(i,s,c),r||(l=[d(n,"input",t[3]),d(n,"keyup",t[4]),d(s,"click",t[5])],r=!0)},p(t,e){2&e&&n.value!==t[1]&&$(n,t[1])},d(t){t&&c(n),t&&c(e),t&&c(s),r=!1,i(l)}}}function z(n){let e;function i(t,n){return t[0]?q:X}let s=i(n),r=s(n);return{c(){e=u("div"),r.c(),g(e,"id","addPathPart"),g(e,"class","svelte-1kfxcpr")},m(t,n){o(t,e,n),r.m(e,null)},p(t,[n]){s===(s=i(t))&&r?r.p(t,n):(r.d(1),r=s(t),r&&(r.c(),r.m(e,null)))},i:t,o:t,d(t){t&&c(e),r.d()}}}function B(t,n,e){const i=w();let s=!1,r="";return[s,r,i,function(){r=this.value,e(1,r)},t=>{"Enter"===t.key&&(t.preventDefault(),e(0,s=!1),i("newPath",r))},()=>{i("newPath",r),e(0,s=!1)},()=>{e(0,s=!0),e(1,r="")}]}class M extends W{constructor(t){super(),S(this,t,B,z,r,{})}}function J(t,n,e){const i=t.slice();return i[9]=n[e],i}function K(t){let n,e,i,s,r,f,$,m,v=t[9]+"";function x(...n){return t[4](t[9],...n)}return{c(){n=u("div"),e=u("span"),i=a(v),s=p(),r=u("span"),r.textContent="X",f=p(),g(e,"class","path svelte-l2fat0"),g(r,"class","delete svelte-l2fat0"),g(n,"class","pathLine svelte-l2fat0")},m(t,c){o(t,n,c),l(n,e),l(e,i),l(n,s),l(n,r),l(n,f),$||(m=d(r,"click",x),$=!0)},p(n,e){t=n,1&e&&v!==(v=t[9]+"")&&h(i,v)},d(t){t&&c(n),$=!1,m()}}}function Q(t){let n,e,i,s,r,a,d,h=t[0],$=[];for(let n=0;n<h.length;n+=1)$[n]=K(J(t,h,n));return a=new M({}),a.$on("newPath",t[5]),{c(){n=u("div"),e=u("h3"),e.textContent="Fig Paths",i=p(),s=u("div");for(let t=0;t<$.length;t+=1)$[t].c();r=p(),D(a.$$.fragment),g(s,"id","paths"),g(s,"class","svelte-l2fat0"),g(n,"id","figpath")},m(t,c){o(t,n,c),l(n,e),l(n,i),l(n,s);for(let t=0;t<$.length;t+=1)$[t].m(s,null);l(n,r),L(a,n,null),d=!0},p(t,[n]){if(5&n){let e;for(h=t[0],e=0;e<h.length;e+=1){const i=J(t,h,e);$[e]?$[e].p(i,n):($[e]=K(i),$[e].c(),$[e].m(s,null))}for(;e<$.length;e+=1)$[e].d(1);$.length=h.length}},i(t){d||(I(a.$$.fragment,t),d=!0)},o(t){O(a.$$.fragment,t),d=!1},d(t){t&&c(n),f($,t),N(a)}}}function U(t,n,e){let{fig:i}=n,s="",r=[],l="";function o(t){"string"==typeof t&&""!==t&&(r.push(t),c(),e(0,r))}function c(){var t=s.map(t=>(t.includes("FIGPATH")&&(t=`set -xg FIGPATH "${r.join(":")}"`),t));i.fwrite("~/.fig/exports/env.fish",t.join("\n"),t=>{console.log("Error: "+t)})}function f(t){e(0,r=r.filter(n=>!(n===t))),c()}y(()=>{i.fread("~/.fig/exports/env.fish",(t,n)=>{n?i.fread("~/.fig/exports/env.sh",(t,n)=>{n?(e(0,r=["~/.fig/bin","~/run"]),s='set -xg FIGPATH "~/.fig/bin:~/run"\n\nsource "~/.fig/exports/aliases.fish"\n',i.fwrite("~/.fig/exports/env.fish",s,t=>{})):null!==t&&"string"==typeof t&&""!==t&&(s=t.split("\n"),l=s.filter(t=>t.includes("FIGPATH"))[0],e(0,r=l.split("=")[1].replace(new RegExp('"',"g"),"").split(":")),s='set -xg FIGPATH "~/.fig/bin:~/run"\n\nsource "~/.fig/exports/aliases.fish"\n',i.fwrite("~/.fig/exports/env.fish",s,t=>{}))}):null!==t&&"string"==typeof t&&""!==t&&(s=t.split("\n"),l=s.filter(t=>t.includes("FIGPATH"))[0],e(0,r=l.split(" ")[3].replace(new RegExp('"',"g"),"").split(":")))})});return t.$$set=t=>{"fig"in t&&e(3,i=t.fig)},[r,o,f,i,t=>{f(t)},t=>{o(t.detail)}]}class V extends W{constructor(t){super(),S(this,t,U,Q,r,{fig:3})}}function Y(n){let e,i,s;return{c(){e=u("span"),e.textContent="+",g(e,"class","svelte-wndy68")},m(t,r){o(t,e,r),i||(s=d(e,"click",n[8]),i=!0)},p:t,d(t){t&&c(e),i=!1,s()}}}function Z(t){let n,e,s,r,l,f,a;return{c(){n=u("input"),e=p(),s=u("input"),r=p(),l=u("span"),l.textContent="+",g(n,"class","svelte-wndy68"),g(s,"class","svelte-wndy68"),g(l,"class","svelte-wndy68")},m(i,c){o(i,n,c),$(n,t[1]),o(i,e,c),o(i,s,c),$(s,t[2]),o(i,r,c),o(i,l,c),f||(a=[d(n,"input",t[4]),d(s,"input",t[5]),d(s,"keyup",t[6]),d(l,"click",t[7])],f=!0)},p(t,e){2&e&&n.value!==t[1]&&$(n,t[1]),4&e&&s.value!==t[2]&&$(s,t[2])},d(t){t&&c(n),t&&c(e),t&&c(s),t&&c(r),t&&c(l),f=!1,i(a)}}}function tt(n){let e;function i(t,n){return t[0]?Z:Y}let s=i(n),r=s(n);return{c(){e=u("div"),r.c(),g(e,"id","addAliasPart"),g(e,"class","svelte-wndy68")},m(t,n){o(t,e,n),r.m(e,null)},p(t,[n]){s===(s=i(t))&&r?r.p(t,n):(r.d(1),r=s(t),r&&(r.c(),r.m(e,null)))},i:t,o:t,d(t){t&&c(e),r.d()}}}function nt(t,n,e){const i=w();let s=!1,r="",l="";return[s,r,l,i,function(){r=this.value,e(1,r)},function(){l=this.value,e(2,l)},t=>{"Enter"===t.key&&(t.preventDefault(),e(0,s=!1),i("newAlias",{key:r,def:l}))},()=>{i("newAlias",{key:r,def:l}),e(0,s=!1)},()=>{e(0,s=!0),e(1,r=""),e(2,l="")}]}class et extends W{constructor(t){super(),S(this,t,nt,tt,r,{})}}function it(t,n,e){const i=t.slice();return i[8]=n[e][0],i[9]=n[e][1],i}function st(t){let n,e,i,s,r,f,$,m,v,x,y,w,k,b=t[8]+"",E=t[9]+"";function _(...n){return t[4](t[8],t[9],...n)}return{c(){n=u("div"),e=u("span"),i=a(b),s=p(),r=u("span"),r.textContent="=",f=p(),$=u("span"),m=a(E),v=p(),x=u("span"),x.textContent="X",y=p(),g(e,"class","alias svelte-1mxrc0h"),g(r,"class","alias svelte-1mxrc0h"),g($,"class","alias svelte-1mxrc0h"),g(x,"class","delete svelte-1mxrc0h"),g(n,"class","aliasLine svelte-1mxrc0h")},m(t,c){o(t,n,c),l(n,e),l(e,i),l(n,s),l(n,r),l(n,f),l(n,$),l($,m),l(n,v),l(n,x),l(n,y),w||(k=d(x,"click",_),w=!0)},p(n,e){t=n,1&e&&b!==(b=t[8]+"")&&h(i,b),1&e&&E!==(E=t[9]+"")&&h(m,E)},d(t){t&&c(n),w=!1,k()}}}function rt(t){let n,e,i,s,r,a,d,h=Object.entries(t[0]),$=[];for(let n=0;n<h.length;n+=1)$[n]=st(it(t,h,n));return a=new et({}),a.$on("newAlias",t[5]),{c(){n=u("div"),e=u("h3"),e.textContent="Fig Aliases",i=p(),s=u("div");for(let t=0;t<$.length;t+=1)$[t].c();r=p(),D(a.$$.fragment),g(s,"id","aliases"),g(s,"class","svelte-1mxrc0h"),g(n,"id","figAlias"),g(n,"class","svelte-1mxrc0h")},m(t,c){o(t,n,c),l(n,e),l(n,i),l(n,s);for(let t=0;t<$.length;t+=1)$[t].m(s,null);l(n,r),L(a,n,null),d=!0},p(t,[n]){if(5&n){let e;for(h=Object.entries(t[0]),e=0;e<h.length;e+=1){const i=it(t,h,e);$[e]?$[e].p(i,n):($[e]=st(i),$[e].c(),$[e].m(s,null))}for(;e<$.length;e+=1)$[e].d(1);$.length=h.length}},i(t){d||(I(a.$$.fragment,t),d=!0)},o(t){O(a.$$.fragment,t),d=!1},d(t){t&&c(n),f($,t),N(a)}}}function lt(t,n,e){let{fig:i}=n,s="",r=[];function l(t,n){"string"==typeof t&&"string"==typeof n&&""!==t&&""!==n&&(e(0,r[t]=n,r),o(),e(0,r))}function o(){var t="";for(var n in r)t+=`alias ${n}="${r[n]}"\n`;i.fwrite("~/.fig/exports/aliases.fish",t,t=>{console.log("Error: "+t)})}function c(t,n){delete r[t],o(),e(0,r)}y(()=>{i.fread("~/.fig/exports/aliases.fish",(t,n)=>{n?(e(0,r=[]),o()):null!==t&&"string"==typeof t&&""!==t&&(s=t.split("\n"),e(0,r=[]),s.forEach(t=>{if(t.includes("alias")){var n=t.split("=");e(0,r[n[0].split(" ")[1]]=n[1].replace(new RegExp('"',"g"),""),r)}})),e(0,r)})});return t.$$set=t=>{"fig"in t&&e(3,i=t.fig)},[r,l,c,i,(t,n)=>{c(t)},t=>{l(t.detail.key,t.detail.def)}]}class ot extends W{constructor(t){super(),S(this,t,lt,rt,r,{fig:3})}}function ct(t){let n,e,i,s,r,f,a,h,$,m,v,x;return r=new V({props:{fig:t[0]}}),a=new ot({props:{fig:t[0]}}),{c(){n=u("main"),e=u("h2"),e.textContent="Fishy Settings",i=p(),s=u("div"),D(r.$$.fragment),f=p(),D(a.$$.fragment),h=p(),$=u("button"),$.textContent="Close",g(s,"id","closure"),g(s,"class","svelte-1kh9r16"),g(n,"class","svelte-1kh9r16")},m(c,u){o(c,n,u),l(n,e),l(n,i),l(n,s),L(r,s,null),l(s,f),L(a,s,null),l(n,h),l(n,$),m=!0,v||(x=d($,"click",t[2]),v=!0)},p(t,[n]){const e={};1&n&&(e.fig=t[0]),r.$set(e);const i={};1&n&&(i.fig=t[0]),a.$set(i)},i(t){m||(I(r.$$.fragment,t),I(a.$$.fragment,t),m=!0)},o(t){O(r.$$.fragment,t),O(a.$$.fragment,t),m=!1},d(t){t&&c(n),N(r),N(a),v=!1,x()}}}function ft(t,n,e){let{fig:i}=n;function s(){i.reposition("7")}return t.$$set=t=>{"fig"in t&&e(0,i=t.fig)},[i,s,()=>{s()}]}class ut extends W{constructor(t){super(),S(this,t,ft,ct,r,{fig:0})}}fig.init=(t,n)=>{fig.title=fig.env.PWD,fig.icon="fig://${fig.env.PWD}";new ut({target:document.body,props:{fig:fig}})}}();
//# sourceMappingURL=bundle.js.map
